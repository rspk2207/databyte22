<%- include("partials/header") -%>

<!-- Run For Loop for All Posts in the Database -->
<% for(var i=0;i < blogs.length; i++) { %>
<div class = "blogpost">
          <div class="animate__animated animate__fadeIn animate_slower">
            <h2 class="display-4 fst-italic">
            <%= blogs[i].title %>
          </h2>
          <p> <%= blogs[i].author %> on <%= blogs[i].date %> </p>
          <!-- Author -->
          <!-- Date -->
          <p class="lead my-4" style = "font-size: 18px">
            <% if(blogs[i].data.length < 100) { %>
            <%= blogs[i].data %>
            <% } %>
            <% if(blogs[i].data.length >= 100) { %>
            <%= blogs[i].data.slice(0,100) %>
            ...
            <% } %>
            <!-- 
            <% for(var j=0;j < blogs[i].image.length ; j++) { %>
              <img src="data:<%= blogs[i].image[j].contentType %>;base64,<%= blogs[i].image[j].data.toString('base64') %>" width="100" height="100">
            <% } %>
            -->
          </p>
          <p class="lead mb-0">
            <a href="/blogs/<%=blogs[i].title%>" class="text-white fw-bold"
              ><!-- Button linking to individual page for the post determined by parameters -->
              <button
                type="button"
                class="btn btn-outline-secondary"
                data-bs-toggle="modal"
                data-bs-target="#exampleModal"
              >
                Read More
              </button></a
            >
          </p>
            <br>
      </div>
      </div>
      <% } %>
<!-- Unit Blog Post Ends -->

<%- include("partials/footer") -%>